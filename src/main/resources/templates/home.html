<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kakao Map Example</title>
    <!-- 카카오 지도 API를 불러오는 스크립트 -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=00d1961c0cca06b3691129126dbc752c"></script>
</head>
<body>
<h1>홈페이지 입니다.</h1>
<div id="map" style="width:100%;height:350px;"></div>

<script type="text/javascript">
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
            var lat = position.coords.latitude;
            var lon = position.coords.longitude;

            // 지도 생성 및 표시
            var mapContainer = document.getElementById('map'); // 지도를 표시할 div
            var mapOption = {
                center: new kakao.maps.LatLng(lat, lon), // 사용자의 현재 위치로 중심 설정
                level: 2 // 지도의 확대 레벨
            };

            // 지도를 생성합니다
            var map = new kakao.maps.Map(mapContainer, mapOption);

            // 마커가 표시될 위치입니다
            var markerPosition = new kakao.maps.LatLng(lat, lon);

            // 마커를 생성합니다
            var marker = new kakao.maps.Marker({
                position: markerPosition
            });

            // 마커가 지도 위에 표시되도록 설정합니다
            marker.setMap(map);

        }, function(error) {
            console.error("Geolocation error: ", error);
            alert("현재 위치를 가져올 수 없습니다.");
        });
    } else {
        alert("이 브라우저에서는 Geolocation이 지원되지 않습니다.");
    }
</script>
</body>
</html>